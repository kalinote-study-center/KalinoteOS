     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_open_constask
     7 00000000                                 	EXTERN	_fifo32_put
     8 00000000                                 	EXTERN	_cons_newline
     9 00000000                                 [FILE "cmd_run.c"]
    10                                          [SECTION .text]
    11 00000000                                 	GLOBAL	_cmd_run
    12 00000000                                 _cmd_run:
    13 00000000 55                              	PUSH	EBP
    14 00000001 89 E5                           	MOV	EBP,ESP
    15 00000003 57                              	PUSH	EDI
    16 00000004 56                              	PUSH	ESI
    17 00000005 BE 00000004                     	MOV	ESI,4
    18 0000000A 53                              	PUSH	EBX
    19 0000000B 51                              	PUSH	ECX
    20 0000000C 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    21 0000000F 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
    22 00000012 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
    23 00000015 FF 75 10                        	PUSH	DWORD [16+EBP]
    24 00000018 6A 00                           	PUSH	0
    25 0000001A E8 [00000000]                   	CALL	_open_constask
    26 0000001F 80 7B 04 00                     	CMP	BYTE [4+EBX],0
    27 00000023 8D 78 10                        	LEA	EDI,DWORD [16+EAX]
    28 00000026 58                              	POP	EAX
    29 00000027 5A                              	POP	EDX
    30 00000028 75 1F                           	JNE	L6
    31 0000002A                                 L8:
    32 0000002A 68 0000010A                     	PUSH	266
    33 0000002F 57                              	PUSH	EDI
    34 00000030 E8 [00000000]                   	CALL	_fifo32_put
    35 00000035 58                              	POP	EAX
    36 00000036 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
    37 00000039 5A                              	POP	EDX
    38 0000003A 89 45 08                        	MOV	DWORD [8+EBP],EAX
    39 0000003D 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
    40 00000040 5B                              	POP	EBX
    41 00000041 5E                              	POP	ESI
    42 00000042 5F                              	POP	EDI
    43 00000043 5D                              	POP	EBP
    44 00000044 E9 [00000000]                   	JMP	_cons_newline
    45 00000049                                 L6:
    46 00000049 0F BE 04 1E                     	MOVSX	EAX,BYTE [ESI+EBX*1]
    47 0000004D 05 00000100                     	ADD	EAX,256
    48 00000052 46                              	INC	ESI
    49 00000053 50                              	PUSH	EAX
    50 00000054 57                              	PUSH	EDI
    51 00000055 E8 [00000000]                   	CALL	_fifo32_put
    52 0000005A 80 3C 1E 00                     	CMP	BYTE [ESI+EBX*1],0
    53 0000005E 59                              	POP	ECX
    54 0000005F 58                              	POP	EAX
    55 00000060 75 E7                           	JNE	L6
    56 00000062 EB C6                           	JMP	L8
