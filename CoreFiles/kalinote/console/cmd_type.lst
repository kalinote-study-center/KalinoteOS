     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_file_search
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_file_loadfile
     9 00000000                                 	EXTERN	_memman_free_4k
    10 00000000                                 	EXTERN	_cons_newline
    11 00000000                                 	EXTERN	_cons_putchar
    12 00000000                                 	EXTERN	_putfonts8_asc_sht
    13 00000000                                 [FILE "cmd_type.c"]
    14                                          [SECTION .data]
    15 00000000                                 LC0:
    16 00000000 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x00
       0000000A 6F 75 6E 64 2E 00 
    17                                          [SECTION .text]
    18 00000000                                 	GLOBAL	_cmd_type
    19 00000000                                 _cmd_type:
    20 00000000 55                              	PUSH	EBP
    21 00000001 89 E5                           	MOV	EBP,ESP
    22 00000003 57                              	PUSH	EDI
    23 00000004 56                              	PUSH	ESI
    24 00000005 53                              	PUSH	EBX
    25 00000006 50                              	PUSH	EAX
    26 00000007 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    27 0000000A 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
    28 0000000D 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
    29 00000010 68 000000E0                     	PUSH	224
    30 00000015 68 00102600                     	PUSH	1058304
    31 0000001A 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
    32 0000001D 83 C0 05                        	ADD	EAX,5
    33 00000020 50                              	PUSH	EAX
    34 00000021 E8 [00000000]                   	CALL	_file_search
    35 00000026 83 C4 0C                        	ADD	ESP,12
    36 00000029 89 C3                           	MOV	EBX,EAX
    37 0000002B 85 C0                           	TEST	EAX,EAX
    38 0000002D 74 6A                           	JE	L2
    39 0000002F FF 70 1C                        	PUSH	DWORD [28+EAX]
    40 00000032 68 003C0000                     	PUSH	3932160
    41 00000037 E8 [00000000]                   	CALL	_memman_alloc_4k
    42 0000003C 68 00103E00                     	PUSH	1064448
    43 00000041 56                              	PUSH	ESI
    44 00000042 89 C7                           	MOV	EDI,EAX
    45 00000044 50                              	PUSH	EAX
    46 00000045 31 F6                           	XOR	ESI,ESI
    47 00000047 FF 73 1C                        	PUSH	DWORD [28+EBX]
    48 0000004A 0F B7 43 1A                     	MOVZX	EAX,WORD [26+EBX]
    49 0000004E 50                              	PUSH	EAX
    50 0000004F E8 [00000000]                   	CALL	_file_loadfile
    51 00000054 83 C4 1C                        	ADD	ESP,28
    52 00000057 3B 73 1C                        	CMP	ESI,DWORD [28+EBX]
    53 0000005A 72 23                           	JB	L7
    54 0000005C                                 L10:
    55 0000005C FF 73 1C                        	PUSH	DWORD [28+EBX]
    56 0000005F 57                              	PUSH	EDI
    57 00000060 68 003C0000                     	PUSH	3932160
    58 00000065 E8 [00000000]                   	CALL	_memman_free_4k
    59 0000006A 83 C4 0C                        	ADD	ESP,12
    60 0000006D                                 L8:
    61 0000006D 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
    62 00000070 89 45 08                        	MOV	DWORD [8+EBP],EAX
    63 00000073 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
    64 00000076 5B                              	POP	EBX
    65 00000077 5E                              	POP	ESI
    66 00000078 5F                              	POP	EDI
    67 00000079 5D                              	POP	EBP
    68 0000007A E9 [00000000]                   	JMP	_cons_newline
    69 0000007F                                 L7:
    70 0000007F 6A 01                           	PUSH	1
    71 00000081 0F BE 04 3E                     	MOVSX	EAX,BYTE [ESI+EDI*1]
    72 00000085 50                              	PUSH	EAX
    73 00000086 46                              	INC	ESI
    74 00000087 FF 75 F0                        	PUSH	DWORD [-16+EBP]
    75 0000008A E8 [00000000]                   	CALL	_cons_putchar
    76 0000008F 83 C4 0C                        	ADD	ESP,12
    77 00000092 3B 73 1C                        	CMP	ESI,DWORD [28+EBX]
    78 00000095 72 E8                           	JB	L7
    79 00000097 EB C3                           	JMP	L10
    80 00000099                                 L2:
    81 00000099 6A 19                           	PUSH	25
    82 0000009B 68 [00000000]                   	PUSH	LC0
    83 000000A0 6A 00                           	PUSH	0
    84 000000A2 68 00FFFFFF                     	PUSH	16777215
    85 000000A7 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
    86 000000AA FF 70 08                        	PUSH	DWORD [8+EAX]
    87 000000AD 6A 08                           	PUSH	8
    88 000000AF FF 30                           	PUSH	DWORD [EAX]
    89 000000B1 E8 [00000000]                   	CALL	_putfonts8_asc_sht
    90 000000B6 FF 75 F0                        	PUSH	DWORD [-16+EBP]
    91 000000B9 E8 [00000000]                   	CALL	_cons_newline
    92 000000BE 83 C4 20                        	ADD	ESP,32
    93 000000C1 EB AA                           	JMP	L8
